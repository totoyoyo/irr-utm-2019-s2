# Git

Git is a powerful system that allows you to track changes and manage versions of complicated projects that include many files. Git is available for free and is widely used, especially in academic and professional computer science. Mathematicians are also starting to use git to keep track of LaTeX source files.

## Do I have to learn git for the Proof module?

You are **required** to learn to use git in this module, because there are advantages to learning git along with LaTeX.

* If you take many more MCS modules at Yale-NUS, especially computer science flavoured modules, you are very likely to have to learn git at some point. Why not get started early?
* Even if you don't take any more MCS modules at Yale-NUS, using version control software can still be a valuable transferable skill.
* Computer tragedies happen. Whether it is caused by user error, by malware, or by theft, there is no need to lose your work along with your hardware. There are many viable strategies for backing up your LaTeX source. Git, when used with a remote repository such as GitLab (free) or GitHub (paid, but free for students) is one valid option. Failure to back up work is not a valid excuse for late submission, so you *must* have some kind of backup strategy.

## Resources

Here are a few resources to help you get started using git.

* A [teach-yourself ebook](https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control). This explains the git philosophy, workflow model, and command line interaction with git. It is a Perusall reading assignment to read most of chapter 1 of this ebook. That is enough for using git for individual projects in mathematics. But if you would like to learn to use git for collaboration or more complicated projects in computer science, then you would do well to read more of the ebook. I recommend reading chapters 1-3, and parts of 4 & 5 before downloading anything. The book teaches you to understand deeply how git works using the command line rather than relying on a front end. Navigating a graphical front end for git is much easier once you have some understanding of the command line system.
* [GitLab](https://gitlab.com/) provides online git repositories. You can use private repositories to keep your work backed up and so that you can work on different computers. Being able to keep track of files with versions stored on your own local computer and remote servers, without version conflicts and accidentally overwritten work, is a core part of the functionality of git, and it is made very easy. An alternative is [github](http://www.github.com). Some of this functionality can be achieved with Dropbox / Google Drive / Box / Sync / etc.. But the advantage of using GitLab (or github) is that you have all versions of all your files stored locally, so you don't have to rely on the service provider or your internet access.
* [Git](https://git-scm.com/download/win) is the actual version control software, which operates only via command line. Even if you only want to work with a graphical front end like GitKraken, you still need to have this software installed.
* [GitKraken](https://www.gitkraken.com/) is an easy-to-use, cross-platform git front end. Although it does not allow you to use the full power of git, its features comfortably encompass everything you will ned for this module.
* [The comments and answers on this stackexchange](http://tex.stackexchange.com/questions/103244/git-latex-and-branches-workflow) will help you get started writing your LaTeX in a way that plays nicely with git. Although git is very robust, it doesn't hurt to put a little effort into formatting, particularly as good formatting for git coincides with good formatting for human readers. The most important piece of advice is to use (at least) **one line per sentence** in your latex source files. This will also make it much easier to correct typos when proofreading your work.
* [TortoiseGit](https://tortoisegit.org/) is a git front end for Windows that makes everything available from the right click menu in explorer, avoiding the command line. It is more powerful than gitkraken, but has a steeper learning curve. I recommend using GitKraken to get started. If you want the most powerful features of git, then you will need to use the command line, but this may be a valuable middle ground. I suggest not installing this unless you start to feel you are outgrowing GitKraken,. That is unlikely to happen in this module.

## Getting started (after class 1)

Here are the first steps for getting started with git in Proof. These instructions assume that you have received an email from the instructor inviting you to GitLab. If you have not yet received the email, then please contact the instructor or follow the instructions in the following section.

1. Create a GitLab account. You are required to have a GitLab account for this module. You should have received an email from the instructor with an invitation to GitLab; follow the link in the email.
2. Join your first repository. This should happen automatically if you followed the link in the email to create your GitLab account.
3. Install git. You can find instructions for Linux, Windows & Mac in the [ebook](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git). This is the suite of programs that does all the hard work of version control, but does not have a graphical user interface. Because it can only be used from the command line, we will not be using git directly. Instead, we'll interact with another program, called GitKraken, which is more user friendly. However, GitKraken can't actually do the work itself. You need git to be installed on your computer so that GitKraken can tell git to do the work. You should install git on all the computers you plan to use.
4. Install [GitKraken](https://www.gitkraken.com/). You are *not required* to use GitKraken for this module, but if you have not used git before then I strongly recommend you use GitKraken so that you can get help and advice more easily. GitKraken is available for Linux, Windows & Mac. You should install it on all the computers you plan to use.
5. Create a GitKraken account and link to your GitLab account. You can do this within the GitKraken program. Click on the folder icon in the top left corner, select Clone, then GitLab.com, and follow the instructions. You may also have to click a button in GitKraken to generate a key that allows GitKraken to communicate with GitLab.
6. Clone your project from GitLab to your local computer. In GitKraken, click the folder icon in the top left, select Clone and GitLab.com. You should now see the repository from step 2 listed on the right. Choose a place to store the repository on your computer and click the green Clone the repo! button. After a few seconds, you will have the repository on your computer. You may have to click to open the repository and remind GitKraken that you are not using the program commercially.
7. Open the folder in your file manager (called File Explorer in Windows) and take a look around. You should find files called README.md and .gitignore. The first is a place where you can write a description of the project. The file format is markdown, which you are not expected to learn for this module, but you can write plain text in there just fine. The other file is used to tell git of what kinds of files it should keep track and which files it should ignore. This is already set up fine for working with LaTeX, so there is no need to edit this file. You may also find some other files related to assignments. If you are viewing hidden files, you will also find the .git directory. This is where git stores all the information about the repository, version history of every file, etc.. Don't go in there unless you *really* know what you are doing!
8. Do some work! You can work inside the directory of the repository in any way you usually would. Create, edit, or delete tex files, build tex files to pdf, add supplementary files such as images, notes, etc.. Note: you must make an edit in this step or the next step will not be possible.
9. Stage and commit your files. When you have reached a minor milestone in your work, you should go back to GitKraken. In the center of the screen, you will find a new row in the commit graph labelled "// WIP". Select that row and, on the right, click the green Stage all changes button. At this stage, if you want to review your edits, you can select any of the Staged Files and the center panel will change to a diff viewer: added lines are green and deleted lines are red. When you are finished reviewing your edits, you can enter a Commit Message. This should be descriptive of the edits you made. The Summary has a very restrictive character limit, so should really be considered a title. In the description, you can give as much detail as you like. The more detail you give, the easier it will be for you to track down this particular commit in future, which could be important if you made a mistake in your code! But there is no need to list all the files you edited or the edits made as it will easy to see the diff later too, not only the Commit Message. Aim to be descriptive rather than encyclopedic. I usually write only a sentence or two, unless it is a very important commit. When you are happy with your commit message, click the green Commit changes button.
10. Push your changes back to GitLab. In the top centre of the GitKraken window, click "Push". The first time you do this, GitKraken will ask you to which server you want to push. Provided you followed steps 2 & 6 above, the default options are correct, so just click the green Submit button. Now the latest version of your repository is available to Pull from GitLab on any other computer.
11. Repeat steps 8, 9 and 10 whenever you need to do some work.
12. You are not limited to just one repository. You can use as many as you want. You can think of repositories as projects. I recommend using just one repository for the Proof module, but you should start a new one for another module.
12. Always follow this advice when using LaTeX with git: use (at least) **one line per sentence** in your latex source files. This will also make it much easier to correct typos when proofreading your work.

## Getting started (before class 1)

Here are the first steps for getting started with git in Proof.

1. Create a GitLab account. You are required to have a GitLab account for this module. If you are reading this after the first class meeting in week 1, then you should have received an email from the instructor with an invitation to GitLab; follow the link in the email. If you are reading this before the first class meeting, then you can go to [GitLab](https://gitlab.com/) and create an account.
2. Create/join your first repository. This step is unnecessary if you followed the link in the email mentioned in step 1; in that case you should already have gained access to a repository. Once you are logged in to GitLab, click on the green New Project button in the top right. Create a blank project by giving it a name (no spaces) and a description and making it Private. You now have your first git repository! There's nothing in it yet, but we'll get to that.
3. Install git. You can find instructions for Linux, Windows & Mac in the [ebook](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git). This is the suite of programs that does all the hard work of version control, but does not have a graphical user interface. Because it can only be used from the command line, we will not be using git directly. Instead, we'll interact with another program, called GitKraken, which is more user friendly. However, GitKraken can't actually do the work itself. You need git to be installed on your computer so that GitKraken can tell git to do the work. You should install git on all the computers you plan to use.
4. Install [GitKraken](https://www.gitkraken.com/). You are *not required* to use GitKraken for this module, but if you have not used git before then I strongly recommend you use GitKraken so that you can get help and advice more easily. GitKraken is available for Linux, Windows & Mac. You should install it on all the computers you plan to use.
5. Create a GitKraken account and link to your GitLab account. You can do this within the GitKraken program. Click on the folder icon in the top left corner, select Clone, then GitLab.com, and follow the instructions. You may also have to click a button in GitKraken to generate a key that allows GitKraken to communicate with GitLab.
6. Clone your project from GitLab to your local computer. In GitKraken, click the folder icon in the top left, select Clone and GitLab.com. You should now see the repository from step 2 listed on the right. Choose a place to store the repository on your computer and click the green Clone the repo! button. After a few seconds, you will have the repository on your computer. GitKraken will want to make an "initial commit" to initialise the repository; that's fine. You may have to click to open the repository and remind GitKraken that you are not using the program commercially.
7. Open the folder in your file manager (called File Explorer in Windows) and take a look around. You should find a file called README.md. This is a place where you can write a description of the project. The file format is markdown, which you are not expected to learn for this module, but you can write plain text in there just fine. Because this is a new repository, you won't find it, but you want there to be another file called .gitignore, which used to tell git of what kinds of files it should keep track and which files it should ignore. You can download .gitignore from Canvas files and copy it into the same directory as README.md. This .gitignore is already set up fine for working with LaTeX, so there is no need to edit the file. At this stage, you should go through steps 9-10, using a Commit Message like "Added .gitignore" before returning here. If you are viewing hidden files, you will also find the .git directory within the repository directory. This is where git stores all the information about the repository, version history of every file, etc.. Don't go in there unless you *really* know what you are doing!
8. Do some work! You can work inside the directory of the repository in any way you usually would. Create, edit, or delete tex files, build tex files to pdf, add supplementary files such as images, notes, etc.. Note: you must make an edit in this step or the next step will not be possible.
9. Stage and commit your files. When you have reached a minor milestone in your work, you should go back to GitKraken. In the center of the screen, you will find a new row in the commit graph labelled "// WIP". Select that row and, on the right, click the green Stage all changes button. At this stage, if you want to review your edits, you can select any of the Staged Files and the center panel will change to a diff viewer: added lines are green and deleted lines are red. When you are finished reviewing your edits, you can enter a Commit Message. This should be descriptive of the edits you made. The Summary has a very restrictive character limit, so should really be considered a title. In the description, you can give as much detail as you like. The more detail you give, the easier it will be for you to track down this particular commit in future, which could be important if you made a mistake in your code! But there is no need to list all the files you edited or the edits made as it will easy to see the diff later too, not only the Commit Message. Aim to be descriptive rather than encyclopedic. I usually write only a sentence or two, unless it is a very important commit. When you are happy with your commit message, click the green Commit changes button.
10. Push your changes back to GitLab. In the top centre of the GitKraken window, click "Push". The first time you do this, GitKraken will ask you to which server you want to push. Provided you followed steps 2 & 6 above, the default options are correct, so just click the green Submit button. Now the latest version of your repository is available to Pull from GitLab on any other computer.
11. Repeat steps 8, 9 and 10 whenever you need to do some work.
12. Always follow this advice when using LaTeX with git: use (at least) **one line per sentence** in your latex source files. This will also make it much easier to correct typos when proofreading your work.
